# QS-011-데이터베이스-변경-용이성

## 개요

### Quality Scenario ID
QS-011

### 제목
데이터베이스 변경 용이성

### 설명
데이터베이스 스키마나 데이터베이스 시스템을 변경할 때 영향받는 모듈의 범위

### 품질 속성
변경 용이성 (구현 방식 변경)

## 환경

### 시스템 상태
- 시스템이 개발 및 유지보수 단계에 있음
- Count 통합 관리 시스템이 Kubernetes 환경에서 MSA로 배포되어 있음
- 기존 데이터베이스 스키마가 존재함

### 초기 조건
- 데이터베이스 변경 요구사항이 있음
- 변경 유형: 스키마 변경(테이블 추가/수정/삭제, 컬럼 추가/수정/삭제), 데이터베이스 시스템 변경(예: MySQL → PostgreSQL)
- 기존 데이터베이스를 사용하는 컴포넌트가 존재함
- 관련 컴포넌트 코드가 존재함

### 부하 조건
- 변경 작업이 진행되는 개발 환경
- 변경 영향도를 분석하기 위한 코드베이스 분석이 수행됨

### 관련 컴포넌트
- CountInfoDB (Entity)
- CountValueDB (Entity)
- DashboardConfigDB (Entity)
- CountWriter (Control)
- CountReader (Control)
- CountManager (Control)
- CountAnalyzer (Control)
- DashboardManager (Control)

## 동작

1. 데이터베이스 변경 요구사항 발생
   - 예: CountInfoDB 스키마 변경
   - 예: 데이터베이스 시스템 변경
2. 변경 영향도 분석 수행
   - 변경되는 데이터베이스 스키마 또는 시스템 식별
   - 해당 데이터베이스를 사용하는 모든 컴포넌트 식별
   - 데이터베이스 접근 코드가 있는 모듈 식별
   - 변경으로 인해 수정이 필요한 모듈 식별
3. 변경 작업 수행
   - 데이터베이스 스키마 변경 또는 마이그레이션 수행
   - 데이터베이스 접근 코드 수정
   - ORM 매핑 수정 (사용하는 경우)
   - 관련 Control 컴포넌트 수정
   - 테스트 코드 수정
   - 문서 업데이트
4. 변경 작업 완료 및 배포

## 측정

### 측정 항목
데이터베이스 변경 시 수정/영향을 받는 모듈의 크기

### 측정 공식
```
변경 비용 = Σ(LOC_modified)
```

여기서:
- `LOC_modified`: 변경으로 인해 수정이 필요한 각 모듈의 코드 라인 수(Lines of Code)

### 측정 방법
- 데이터베이스 변경 시 수정이 필요한 모든 모듈을 식별
- 각 모듈의 수정된 코드 라인 수를 측정
- 변경 비용은 총 수정된 코드 라인 수로 표현
- 측정은 변경 유형(스키마 변경/시스템 변경), 변경 범위에 따라 달라질 수 있음을 고려

## 관련 문서

- 모든 Use Case
