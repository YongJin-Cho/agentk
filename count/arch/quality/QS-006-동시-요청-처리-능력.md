# QS-006-동시-요청-처리-능력

## 개요

### Quality Scenario ID
QS-006

### 제목
동시 요청 처리 능력

### 설명
여러 외부 서비스가 동시에 Count 저장/조회 요청을 보낼 때 처리할 수 있는 요청 수

### 품질 속성
성능 (처리량)

## 환경

### 시스템 상태
- 시스템이 정상 가동 중
- Count 통합 관리 시스템이 Kubernetes 환경에서 MSA로 배포되어 있음
- 데이터베이스가 정상 동작 중
- 시스템이 동시 요청을 처리할 수 있는 상태

### 초기 조건
- 여러 외부 서비스가 Count 통합 관리 시스템에 접근 가능한 상태
- CountAPI가 정상 동작 중
- CountWriter, CountReader가 정상 동작 중
- CountInfoDB와 CountValueDB가 정상 동작 중
- 네트워크 연결이 정상 상태
- 시스템 리소스(CPU, 메모리, 네트워크 대역폭)가 충분한 상태

### 부하 조건
- 시스템이 동시 요청 부하 상태에서 동작 중
- 여러 외부 서비스가 동시에 요청을 전송
- 요청 유형: Count 저장 요청 또는 Count 조회 요청
- 동시 요청 수가 시스템 처리 능력을 테스트하는 수준

### 관련 컴포넌트
- CountAPI (Boundary)
- CountWriter (Control)
- CountReader (Control)
- CountInfoDB (Entity)
- CountValueDB (Entity)

## 동작

1. 여러 외부 서비스가 동시에 Count 저장 또는 조회 API 요청을 CountAPI로 전송
2. CountAPI가 동시에 수신된 요청들을 큐에 저장하거나 병렬 처리
3. CountAPI가 각 요청에 대해 데이터 형식 검증 및 인증 정보 검증 수행
4. CountAPI가 요청 유형에 따라 적절한 컴포넌트로 요청 전달
   - 저장 요청: CountWriter로 전달
   - 조회 요청: CountReader로 전달
5. CountWriter 또는 CountReader가 데이터베이스 작업 수행
6. 각 요청에 대한 응답이 CountAPI로 반환
7. CountAPI가 각 외부 서비스로 응답 전송

## 측정

### 측정 항목
동시 요청 처리 능력 (Throughput)

### 측정 공식
```
처리량 = N_processed / T_measurement
```

여기서:
- `N_processed`: 측정 기간 동안 성공적으로 처리된 요청 수
- `T_measurement`: 측정 기간 (초 단위)

### 측정 방법
- 동시에 여러 외부 서비스가 요청을 전송하는 시나리오 구성
- 측정 기간 동안 성공적으로 처리된 요청 수를 카운트
- 처리량은 초당 요청 수(Requests Per Second, RPS) 단위로 측정
- 측정은 요청 유형(저장/조회), 요청 크기, 시스템 리소스 상태에 따라 달라질 수 있음을 고려

## 관련 문서

- UC-001-Count 저장
- UC-002-Count 조회
