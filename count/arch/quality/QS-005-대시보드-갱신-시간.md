# QS-005-대시보드-갱신-시간

## 개요

### Quality Scenario ID
QS-005

### 제목
대시보드 갱신 시간

### 설명
대시보드가 열려있는 상태에서 Count 데이터가 변경되었을 때 화면에 반영되는 시간

### 품질 속성
성능 (응답 시간, 실시간성)

## 환경

### 시스템 상태
- 시스템이 정상 가동 중
- Count 통합 관리 시스템이 Kubernetes 환경에서 MSA로 배포되어 있음
- 데이터베이스가 정상 동작 중
- 대시보드가 관리자에게 표시되어 있는 상태

### 초기 조건
- 관리자가 대시보드를 열어서 사용 중인 상태
- DashboardUI가 정상 동작 중
- DashboardManager가 정상 동작 중
- CountInfoDB와 CountValueDB가 정상 동작 중
- 네트워크 연결이 정상 상태
- 실시간 업데이트 메커니즘이 동작 중 (폴링 또는 이벤트 기반)

### 부하 조건
- 시스템이 정상 부하 상태에서 동작 중
- 다른 서비스의 요청이 동시에 처리되고 있을 수 있음
- 데이터베이스에 다수의 Count 데이터가 존재할 수 있음
- 여러 Count 값이 동시에 변경될 수 있음

### 관련 컴포넌트
- DashboardUI (Boundary)
- DashboardManager (Control)
- CountReader (Control)
- CountValueDB (Entity)

## 동작

### 폴링 방식 시나리오
1. 대시보드가 열려있는 상태에서 주기적으로 갱신 요청 수행
2. DashboardUI가 DashboardManager로 대시보드 데이터 갱신 요청 전달
3. DashboardManager가 CountReader를 통해 변경된 Count 값 조회 요청
4. CountReader가 CountValueDB에서 최근 업데이트된 Count 값 조회
5. DashboardManager가 변경된 Count 데이터를 기반으로 대시보드 데이터 업데이트
6. DashboardManager가 업데이트된 대시보드 데이터를 DashboardUI로 반환
7. DashboardUI가 변경된 부분만 화면에 반영하여 표시

### 이벤트 기반 시나리오
1. 외부 서비스가 Count 값을 변경하여 CountValueDB에 저장
2. Count 값 변경 이벤트 발생
3. DashboardManager가 변경 이벤트를 수신
4. DashboardManager가 CountReader를 통해 변경된 Count 값 조회 요청
5. CountReader가 CountValueDB에서 변경된 Count 값 조회
6. DashboardManager가 변경된 Count 데이터를 기반으로 대시보드 데이터 업데이트
7. DashboardManager가 업데이트된 대시보드 데이터를 DashboardUI로 전달
8. DashboardUI가 변경된 부분만 화면에 반영하여 표시

## 측정

### 측정 항목
대시보드 갱신 시간 (Update Time)

### 측정 공식
```
갱신 시간 = T_display - T_change
```

여기서:
- `T_change`: Count 데이터가 변경된 시각 (CountValueDB에 저장된 시각)
- `T_display`: 대시보드 화면에 변경사항이 표시된 시각

### 측정 방법
- Count 데이터 변경 시각과 대시보드 화면 갱신 시각을 기록
- 갱신 시간은 밀리초(ms) 단위로 측정
- 측정은 실시간 업데이트 메커니즘(폴링 주기 또는 이벤트 전달 시간)에 따라 달라질 수 있음을 고려

## 관련 문서

- UC-005-Count 모니터링
